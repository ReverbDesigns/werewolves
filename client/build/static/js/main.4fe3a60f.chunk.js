(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},124:function(e,t,n){"use strict";n.r(t);var a,r,o,i,l,c,s,m,d,u,p,y,v,g,h,f,b,E,T,B,I,C,_,w,k,L,P,R,N,S,O,M,U,j,x,W,G,A,F,q,D,J,K,H,Y,V,$,z,Q,X,Z,ee,te,ne,ae,re,oe=n(0),ie=n.n(oe),le=n(44),ce=n.n(le),se=(n(52),n(2)),me=n(3),de=n(5),ue=n(4),pe=(n(53),n(126)),ye=(n(54),function(e){Object(de.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(se.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e.playButton=function(){e.props.history.push("/login")},e}return Object(me.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){return ie.a.createElement("div",{className:"Welcome-page-cover"},ie.a.createElement("div",{className:"Welcome-page-title"},ie.a.createElement("h2",null,"The Werewolves of Millers Hollow"),ie.a.createElement("p",{className:"small-title-description"},"DMC's ver. 1.0.0"),ie.a.createElement("b",{className:"small-title-description"},"Source Code: "),"  ",ie.a.createElement("a",{target:"_blank",className:"small-title-description",href:"https://github.com/minhchinh97h/werewolf_client"},"Client"),"  ",ie.a.createElement("a",{target:"_blank",className:"small-title-description",href:"https://github.com/minhchinh97h/werewolf_server"},"Server")),ie.a.createElement("div",{className:"Welcome-page-button"},ie.a.createElement("button",{onClick:this.playButton},"Play")),ie.a.createElement("div",{className:"welcome-bottom-link"}))}}]),n}(oe.Component)),ve={Werewolves:0,"Ordinary Townsfolk":0,"Seer/ Fortune Teller":0,Cupid:0,Witch:0,"The savior":0,"The pied piper":0,"The fox":0,"The bear leader":0},ge="http://192.168.0.133::3001/",he=(n(55),n(56)),fe=n(57),be=function(e){Object(de.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(se.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e.newRoomButton=function(){var t=he(),n=document.getElementById("input_player_username");0===n.value.length?n.placeholder="Please enter a name":fe({method:"post",url:ge+"rooms/"+t+"/create-player-and-room",data:{roomid:t,username:n.value,currentRoles:ve}}).then((function(a){"ok"===a.data&&e.props.history.push("/waiting-room/"+t+"/"+n.value)})).catch((function(e){return console.log(e)}))},e.joinButton=function(){var t=document.getElementById("input_player_username"),n=document.getElementById("input_player_roomid");0===t.value.length?(t.placeholder="Please enter a name",0===n.value.length&&(n.placeholder="Please enter a valid room Id")):0===n.value.length?n.placeholder="Please enter a valid room Id":fe({method:"post",url:ge+"rooms/"+n.value+"/get-room-check-username",data:{roomid:n.value,username:t.value}}).then((function(a){"ok"===a.data?e.props.history.push("/waiting-room/"+n.value+"/"+t.value):"username exists"===a.data?(t.placeholder="'"+t.value+"' already exists in "+n.value,t.value=""):(n.placeholder="'"+n.value+"' doesn't exist",n.value="")})).catch((function(e){return console.log(e)}))},e}return Object(me.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return ie.a.createElement("div",{className:"Login-page-cover"},ie.a.createElement("div",{className:"Login-page-title"},ie.a.createElement("h2",null,"Login Room")),ie.a.createElement("div",{className:"Login-page-body"},ie.a.createElement("input",{type:"text",id:"input_player_username",name:"player_username",placeholder:"Name"}),ie.a.createElement("input",{type:"text",id:"input_player_roomid",name:"player_roomid",placeholder:"Room ID"}),ie.a.createElement("button",{className:"button-of-Login",type:"button",onClick:this.joinButton},"join"),ie.a.createElement("button",{className:"button-of-Login create-new-room-button",type:"button",onClick:this.newRoomButton},"Create a Room and Go")))}}]),n}(oe.Component),Ee=(n(75),function(e){Object(de.a)(n,e);var t=Object(ue.a)(n);function n(){return Object(se.a)(this,n),t.apply(this,arguments)}return Object(me.a)(n,[{key:"render",value:function(){return ie.a.createElement("div",{className:"footer-container"})}}]),n}(oe.Component)),Te=n(1),Be=n.n(Te),Ie=(n(106),function(e){Object(de.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(se.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={renderPlayerNames:null},e}return Object(me.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,(a=Be()(ge+"main-page")).on("connect",(function(){a.emit("RequestToGetPlayersAndJoinRoom",e.props.roomid)})),a.on("GetBroadCastPlayers",(function(t){e._isMounted&&e.setState({renderPlayerNames:t.map((function(e){return ie.a.createElement("div",{key:e,className:"player-name-holder"},ie.a.createElement("p",null,e))}))})}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,this.state.renderPlayerNames)}}]),n}(oe.Component)),Ce=(n(107),function(e){Object(de.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(se.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={renderCards:null,renderPressedCards:null,isCardSelected:!1,selectedCards:null,pressedCards:null,currentRoles:null},e.decreaseCardBttn=function(t,n){ve[t]-=1,(ve[t]<0||0===ve[t])&&(ve[t]=0,document.getElementById(t+"-quantity").innerText="");var a=[],r=[];for(var o in ve)ve.hasOwnProperty(o)&&ve[o]>0&&(a.push(o),r.push(ve[o]));a.forEach((function(e,t){var n=e+"-quantity";0===r[t]?document.getElementById(n).innerText="":document.getElementById(n).innerText="x"+r[t]})),e.setState({isCardSelected:!0})},e.chooseCardBttn=function(t,n){ve[t]+=1;var a=[],r=[];for(var o in ve)ve.hasOwnProperty(o)&&ve[o]>0&&(a.push(o),r.push(ve[o]));a.forEach((function(e,t){var n=e+"-quantity";document.getElementById(n).innerText="x"+r[t]})),e.setState({isCardSelected:!0})},e.submitCardsBttn=function(t){var n={roomid:e.props.roomid,currentRoles:ve},a=Be()(ge+"submit-selected-cards");a.on("connect",(function(){a.emit("JoinRoom",n)}))},e}return Object(me.a)(n,[{key:"componentDidMount",value:function(){var e=this;(this._isMounted=!0,this._isMounted)&&Be()(ge+"get-cards").on("GetCards",(function(t){e.setState({renderCards:t.map((function(t,n){var a="card "+n,r=t.name+"-quantity";return ie.a.createElement("div",{key:t.name,className:"card-item"},ie.a.createElement("button",{className:"card-button",type:"button",onClick:e.chooseCardBttn.bind(e,t.name),id:a},t.name),ie.a.createElement("div",{className:"card-quantity-holder"},ie.a.createElement("p",{id:r})),ie.a.createElement("i",{className:"fas fa-minus-square minus-sign fa-sm",onClick:e.decreaseCardBttn.bind(e,t.name)}))}))});var n=Be()(ge+"get-current-roles");n.on("connect",(function(){n.emit("JoinRoom",e.props.roomid)})),n.on("GetSelectedCards",(function(t){if(null!==t&&e._isMounted){for(var n in t)t.hasOwnProperty(n)&&(ve[n]=t[n]);var a=[],r=[];for(var o in ve)ve.hasOwnProperty(o)&&ve[o]>0&&(a.push(o),r.push(ve[o]));a.forEach((function(e,t){var n=e+"-quantity";document.getElementById(n).innerText="x"+r[t]}))}}))}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"admin-choose-cards-and-submit-button-container",id:"display-cards-container"},ie.a.createElement("div",{className:"display-cards-container"},this.state.renderCards),ie.a.createElement("div",{className:"submit-card-collection-button-holder"},this.state.isCardSelected?ie.a.createElement("button",{type:"button",onClick:this.submitCardsBttn.bind(this)},"submit"):null)))}}]),n}(oe.Component)),_e=(n(108),function(e){Object(de.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(se.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={renderChosenCards:null},e}return Object(me.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&((r=Be()(ge+"get-current-roles")).on("connect",(function(){r.emit("JoinRoom",e.props.roomid)})),r.on("GetSelectedCards",(function(t){if(null!==t){var n=[];for(var a in t)t.hasOwnProperty(a)&&t[a]>0&&n.push(a+" x"+t[a]);e.setState({renderChosenCards:n.map((function(e,t){var n="chosen-roles-"+t;return ie.a.createElement("div",{key:n,className:"chosen-card-container"},ie.a.createElement("p",null,e))}))})}})))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"display-chosen-cards"},this.state.renderChosenCards))}}]),n}(oe.Component)),we=(n(109),function(e){Object(de.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(se.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).ChooseUserTab=function(e){document.getElementById("user-tab-button").classList.remove("tab-active"),document.getElementById("card-collection-button").classList.remove("tab-active"),document.getElementById("final-tab-button").classList.remove("tab-active"),document.getElementById("user-tab-button").classList.add("tab-active"),document.getElementById("room-information-container").classList.remove("room-information-container-visible"),document.getElementById("display-cards-container").classList.remove("display-cards-container-invisible"),document.getElementById("room-information-container").classList.add("room-information-container-visible"),document.getElementById("display-cards-container").classList.add("display-cards-container-invisible")},e.ChooseCardCollectionTab=function(){document.getElementById("user-tab-button").classList.remove("tab-active"),document.getElementById("card-collection-button").classList.remove("tab-active"),document.getElementById("final-tab-button").classList.remove("tab-active"),document.getElementById("card-collection-button").classList.add("tab-active"),document.getElementById("room-information-container").classList.remove("room-information-container-visible"),document.getElementById("display-cards-container").classList.remove("display-cards-container-invisible")},e.ChooseFinalTab=function(){document.getElementById("user-tab-button").classList.remove("tab-active"),document.getElementById("card-collection-button").classList.remove("tab-active"),document.getElementById("final-tab-button").classList.remove("tab-active"),document.getElementById("final-tab-button").classList.add("tab-active")},e}return Object(me.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return ie.a.createElement("div",{className:"header-container header-container-admin",id:"header"},ie.a.createElement("button",{className:"header-item-holder",onClick:this.ChooseUserTab,id:"user-tab-button"},ie.a.createElement("i",{className:"fas fa-user fa-lg"})),ie.a.createElement("button",{className:"header-item-holder tab-active",onClick:this.ChooseCardCollectionTab,id:"card-collection-button"},ie.a.createElement("i",{className:"fas fa-boxes fa-lg"})),ie.a.createElement("button",{className:"header-item-holder",onClick:this.ChooseFinalTab,id:"final-tab-button"},ie.a.createElement("i",{className:"fas fa-clipboard-list fa-lg"})))}}]),n}(oe.Component)),ke=(n(110),function(e){Object(de.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(se.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={admin:"",numberOfPlayers:0,ifStartGame:!1,renderDisplayCardTabWhetherPlayerIsAdmin:null,renderStartButtonIfAdmin:null},e.startGameBttn=function(t){i.emit("start",e.props.match.params.roomid),e.setState({renderStartButtonIfAdmin:null})},e}return Object(me.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(document.getElementById("header").classList.remove("hide-header"),(o=Be()(ge+"get-admin",{query:{roomid:this.props.match.params.roomid}})).on("connect",(function(){o.emit("JoinRoom",e.props.match.params.roomid)})),o.on("GetAdmin",(function(t){e.setState({admin:t.admin,numberOfPlayers:t.numberOfPlayers}),e.props.match.params.username===t.admin?e.setState({renderDisplayCardTabWhetherPlayerIsAdmin:ie.a.createElement(Ce,{roomid:e.props.match.params.roomid,admin:e.state.admin,username:e.props.match.params.username}),renderStartButtonIfAdmin:ie.a.createElement("div",{className:"start-button-container"},ie.a.createElement("button",{type:"button",onClick:e.startGameBttn},"Start"))}):e.setState({renderDisplayCardTabWhetherPlayerIsAdmin:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"display-chosen-cards-section",id:"display-cards-container"},ie.a.createElement("div",{className:"title-of-chosen-cards-tab"},ie.a.createElement("h4",null,"Card Collection")),ie.a.createElement(_e,{roomid:e.props.match.params.roomid})))})})),(i=Be()(ge+"start-game")).on("connect",(function(){i.emit("JoinRoom",e.props.match.params.roomid)})),i.on("RedirectToGameRoom",(function(t){"ok"===t&&e.props.history.push("/in-game-room/"+e.props.match.params.roomid+"/"+e.props.match.params.username)})))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,o.disconnect(),i.disconnect(),a.disconnect(),r&&r.disconnect()}},{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement(we,null),ie.a.createElement("div",{className:"waiting-room-container"},ie.a.createElement("div",{className:"waiting-room-title"},ie.a.createElement("h2",null,"Waiting Room")),ie.a.createElement("div",{className:"waiting-room-main-data-container"},this.state.renderDisplayCardTabWhetherPlayerIsAdmin,ie.a.createElement("div",{className:"room-information-container",id:"room-information-container"},ie.a.createElement("div",{className:"room-id-and-number-of-players-container"},ie.a.createElement("p",null,"Room ID: ",this.props.match.params.roomid," "),ie.a.createElement("p",null,"Admin: ",this.state.admin),ie.a.createElement("p",null,"Name: ",this.props.match.params.username)),ie.a.createElement("div",{className:"display-player-names-container"},ie.a.createElement(Ie,{roomid:this.props.match.params.roomid})),this.state.renderStartButtonIfAdmin))))}}]),n}(oe.Component)),Le=[],Pe=[],Re=function(e){Object(de.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(se.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={renderUI:null,renderPlayers:null,endTurnConfirm:null,renderScentTargetNeighbor:null,renderLovers:null,renderCharmedPlayers:null,scentTarget:null,receiveTurn:!1},e.PlayerToScent=function(t,n,a){var r=[];if(n>=1&&n<Pe.length-1?(r.push(Pe[n-1]),r.push(Pe[n+1])):0===n?r.push(Pe[n+1]):n===Pe.length-1&&r.push(Pe[n-1]),window.confirm("Do you want to scent "+t+"?")){var o={roomid:e.props.roomid,playersToScent:r};c.emit("RequestToScentPlayer",o),e.setState({scentTarget:t}),Pe.length=0}},e.endTurnBttn=function(){var t={roomid:e.props.roomid,role:"The bear leader"};d.emit("RequestToGetNextTurn",t),e.setState({endTurnConfirm:null})},e}return Object(me.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(Le.length=0,c=Be()(ge+"bear"),d=Be()(ge+"retrieve-next-turn"),(l=Be()(ge+"in-game")).on("connect",(function(){l.emit("JoinRoom",e.props.roomid)})),l.on("Retrieve1stTurn",(function(t){t===e.props.username&&e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Who do you want to scent its neighbor?")),receiveTurn:!0})})),(s=Be()(ge+"retrieve-next-turn")).on("connect",(function(){s.emit("JoinRoom",e.props.roomid)})),s.on("getNextTurn",(function(t){t===e.props.username&&e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Who do you want to scent its neighbor?")),receiveTurn:!0})})),c.on("ScentPlayer",(function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({renderScentTargetNeighbor:ie.a.createElement("p",null,t?ie.a.createElement(ie.a.Fragment,null,"Werewolve(s) exists around ",ie.a.createElement("b",null,e.state.scentTarget)):ie.a.createElement(ie.a.Fragment,null,"There is none of Werewolves around ",ie.a.createElement("b",null,e.state.scentTarget))),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})})))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,Pe.length=0,Le.length=0,l.disconnect(),c.disconnect(),s.disconnect(),m.disconnect(),d.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn&&this.state.receiveTurn!==t.receiveTurn&&(Le.length=0,Pe.length=0,(m=Be()(ge+"main-page")).on("connect",(function(){m.emit("JoinRoom",n.props.roomid),m.emit("RequestToGetPlayers",n.props.roomid)})),m.on("GetPlayers",(function(e){n.setState({renderPlayers:e.map((function(e,t){Pe.push(e);var a="bear_target_bttn_"+t;return Le.push(a),ie.a.createElement("button",{key:e,id:a,type:"button",onClick:n.PlayerToScent.bind(n,e,t)},e)}))})})))}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},ie.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),ie.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),ie.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderScentTargetNeighbor,this.state.endTurnConfirm))}}]),n}(oe.Component),Ne=(n(111),[]),Se=[],Oe=function(e){Object(de.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(se.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={renderUI:null,renderPlayers:null,renderTargetConnection:null,endTurnConfirm:null,renderLovers:null,renderCharmedPlayers:null},e.playersToConnect=function(t,n,a,r){if(window.confirm("Do you want to choose "+t+"?")&&(Se.push(t),document.getElementById(a).disabled=!0,document.getElementById(a).classList.remove("grayder-background"),document.getElementById(a).classList.add("grayder-background"),2===Se.length)){var o={roomid:e.props.roomid,playersToConnect:Se};p.emit("RequestToConnectPlayers",o),Se.length=0}},e.endTurnBttn=function(){var t={roomid:e.props.roomid,role:"Cupid"};v.emit("RequestToGetNextTurn",t),e.setState({endTurnConfirm:null})},e}return Object(me.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(p=Be()(ge+"cupid"),v=Be()(ge+"retrieve-next-turn"),(u=Be()(ge+"in-game")).on("connect",(function(){u.emit("JoinRoom",e.props.roomid)})),u.on("Retrieve1stTurn",(function(t){t===e.props.username&&p.emit("RequestToGetCupidAbility",e.props.roomid)})),(y=Be()(ge+"retrieve-next-turn")).on("connect",(function(){y.emit("JoinRoom",e.props.roomid)})),y.on("getNextTurn",(function(t){t===e.props.username&&p.emit("RequestToGetCupidAbility",e.props.roomid)})),p.on("CanUseAbility",(function(t){t?(e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Who do you want to connect?"))}),(g=Be()(ge+"main-page")).on("connect",(function(){g.emit("JoinRoom",e.props.roomid),g.emit("RequestToGetPlayers",e.props.roomid)})),g.on("GetPlayers",(function(t){e.setState({renderPlayers:t.map((function(t,n){if(t!==e.props.username){var a="cupid_target_bttn_"+n;return Ne.push(a),ie.a.createElement("button",{key:t,id:a,type:"button",onClick:e.playersToConnect.bind(e,t,n,a)},t)}return""}))})}))):(document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({renderTargetConnection:ie.a.createElement("p",null,"You've finished your task, press End Turn."),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")}))})),p.on("ConnectedPlayers",(function(t){Se=t,document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({renderTargetConnection:ie.a.createElement("p",null,ie.a.createElement("b",null,Se[0].player)," is now connected with ",ie.a.createElement("b",null,Se[1].player)),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})})))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,Se.length=0,u.disconnect(),p.disconnect(),y.disconnect(),g.disconnect()}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},ie.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),ie.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),ie.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderTargetConnection,this.state.endTurnConfirm))}}]),n}(oe.Component),Me=[],Ue=function(e){Object(de.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(se.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={renderUI:null,renderPlayers:null,renderTargetRole:null,endTurnConfirm:null,renderLovers:null,renderCharmedPlayers:null,receiveTurn:!1},e.playerToRevealBttn=function(t,n,a){var r={roomid:e.props.roomid,player:t};window.confirm("Do you want to view "+t+"'s card?")&&(b.emit("Request",r),Me.forEach((function(e,t){document.getElementById(e)&&(document.getElementById(e).disabled=!0)})))},e.endTurnBttn=function(){var t={roomid:e.props.roomid,role:"Seer/ Fortune Teller"};E.emit("RequestToGetNextTurn",t),e.setState({endTurnConfirm:null})},e}return Object(me.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(Me.length=0,E=Be()(ge+"retrieve-next-turn"),(f=Be()(ge+"in-game")).on("connect",(function(){f.emit("JoinRoom",e.props.roomid)})),f.on("Retrieve1stTurn",(function(t){t===e.props.username&&e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Who do you want to reveal?")),receiveTurn:!0})})),(h=Be()(ge+"retrieve-next-turn")).on("connect",(function(){h.emit("JoinRoom",e.props.roomid)})),h.on("getNextTurn",(function(t){t===e.props.username&&e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Who do you want to reveal?")),receiveTurn:!0})})),(b=Be()(ge+"seer")).on("RevealPlayer",(function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({renderTargetRole:ie.a.createElement("p",null,ie.a.createElement("b",null,t.username),"'s role is: ",ie.a.createElement("b",null,t.role)),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})})))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,Me.length=0,h.disconnect(),f.disconnect(),b.disconnect(),E.disconnect(),T.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn&&this.state.receiveTurn!==t.receiveTurn&&(Me.length=0,(T=Be()(ge+"main-page")).on("connect",(function(){T.emit("JoinRoom",n.props.roomid),T.emit("RequestToGetPlayers",n.props.roomid)})),T.on("GetPlayers",(function(e){n.setState({renderPlayers:e.map((function(e,t){if(e!==n.props.username){var a="seer_target_bttn_"+t;return Me.push(a),ie.a.createElement("button",{key:e,id:a,type:"button",onClick:n.playerToRevealBttn.bind(n,e,a)},e)}return""}))})})))}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},ie.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),ie.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),ie.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderTargetRole,this.state.endTurnConfirm))}}]),n}(oe.Component),je=(n(112),[]),xe=[],We=[],Ge=function(e){Object(de.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(se.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={renderUI:null,renderPlayers:null,renderTargetRole:null,endTurnConfirm:null,renderLovers:null,renderCharmedPlayers:null,receiveTurn:!1},e.playersToRevealBttn=function(t,n,a){if(window.confirm("Do you want to scent "+t+"?")){if(We.push(t),3===We.length){var r={roomid:e.props.roomid,players:We};B.emit("RequestToScent",r),je.forEach((function(e,t){document.getElementById(e).disabled=!0}))}document.getElementById("the_fox_target_bttn_"+t)&&(document.getElementById("the_fox_target_bttn_"+t).classList.remove("grayder-background"),document.getElementById("the_fox_target_bttn_"+t).classList.add("grayder-background"))}},e.endTurnBttn=function(){var t={roomid:e.props.roomid,role:"The fox"};I.emit("RequestToGetNextTurn",t),e.setState({endTurnConfirm:null})},e}return Object(me.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(je.length=0,We.length=0,B=Be()(ge+"the-fox"),I=Be()(ge+"retrieve-next-turn"),(C=Be()(ge+"in-game")).on("connect",(function(){C.emit("JoinRoom",e.props.roomid)})),C.on("Retrieve1stTurn",(function(t){t===e.props.username&&e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Choose 3 players to scent?")),receiveTurn:!0})})),(_=Be()(ge+"retrieve-next-turn")).on("connect",(function(){_.emit("JoinRoom",e.props.roomid)})),_.on("getNextTurn",(function(t){t===e.props.username&&e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Choose 3 players to scent?")),receiveTurn:!0})})),B.emit("GetCanUseAbility",this.props.roomid),B.on("CanUseAbility",(function(t){t||(document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({renderTargetRole:ie.a.createElement("p",null,"You lost your ability!"),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")}))})),B.on("GetScentPlayers",(function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({renderTargetRole:ie.a.createElement("p",null,"Werewolves among ",ie.a.createElement("b",null,We[0]),", ",ie.a.createElement("b",null,We[1]),", ",ie.a.createElement("b",null,We[2]),"? ",ie.a.createElement("b",null,t?"YES":"NO")),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})})))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,je.length=0,We.length=0,B.disconnect(),I.disconnect(),C.disconnect(),_.disconnect(),w.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn&&this.state.receiveTurn!==t.receiveTurn&&(je.length=0,(w=Be()(ge+"main-page")).on("connect",(function(){w.emit("JoinRoom",n.props.roomid),w.emit("RequestToGetPlayers",n.props.roomid)})),w.on("GetPlayers",(function(e){xe=[],n.setState({renderPlayers:e.map((function(e,t){if(e!==n.props.username){xe.push(e);var a="the_fox_target_bttn_"+e;return je.push(a),ie.a.createElement("button",{key:e,id:a,type:"button",onClick:n.playersToRevealBttn.bind(n,e,t)},e)}return""}))})})))}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},ie.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),ie.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),ie.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderTargetRole,this.state.endTurnConfirm))}}]),n}(oe.Component),Ae=(n(113),[]),Fe=[],qe=[],De=function(e){Object(de.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(se.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={renderUI:null,renderPlayers:null,endTurnConfirm:null,renderLovers:null,renderCharmedPlayers:null,playersToCharm:[],receiveTurn:!1},e.PlayersToCharm=function(t,n,a,r){if(window.confirm("Do you want to charm "+t+"?"))if(Fe.push(t),document.getElementById(a).disabled=!0,document.getElementById(a).classList.remove("piper-choose-player-button-disable"),document.getElementById(a).classList.add("piper-choose-player-button-disable"),qe.length>=2){if(2===Fe.length){e.setState({playersToCharm:Fe.map((function(e){return e}))});var o={roomid:e.props.roomid,playersToCharm:Fe};k.emit("RequestToCharmPlayers",o),Fe.length=0}}else{e.setState({playersToCharm:Fe.map((function(e){return e}))});var i={roomid:e.props.roomid,playersToCharm:Fe};k.emit("RequestToCharmPlayers",i),Fe.length=0}},e.endTurnBttn=function(){var t={roomid:e.props.roomid,role:"The pied piper"};P.emit("RequestToGetNextTurn",t),e.setState({endTurnConfirm:null})},e}return Object(me.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(Fe.length=0,Ae.length=0,qe.length=0,k=Be()(ge+"piper"),P=Be()(ge+"retrieve-next-turn"),(L=Be()(ge+"in-game")).on("connect",(function(){L.emit("JoinRoom",e.props.roomid)})),L.on("Retrieve1stTurn",(function(t){t===e.props.username&&e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Please charm 2 people")),receiveTurn:!0})})),(R=Be()(ge+"retrieve-next-turn")).on("connect",(function(){R.emit("JoinRoom",e.props.roomid)})),R.on("getNextTurn",(function(t){t===e.props.username&&e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Please charm 2 people")),receiveTurn:!0})})),k.on("CharmedPlayers",(function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})})),(N=Be()(ge+"in-game")).on("connect",(function(){N.emit("JoinRoom",e.props.roomid)})),N.emit("RequestToRetrieveCharmPlayers",this.props.roomid),N.on("GetListOfCharmed",(function(e){e.forEach((function(e){document.getElementById("piper_target_bttn_"+e)&&(document.getElementById("piper_target_bttn_"+e).classList.remove("piper-choose-player-button-disable"),document.getElementById("piper_target_bttn_"+e).classList.add("piper-choose-player-button-disable"),document.getElementById("piper_target_bttn_"+e).disabled=!0)}))})))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,Fe.length=0,Ae.length=0,qe.length=0,k.disconnect(),L.disconnect(),P.disconnect(),R.disconnect(),N.disconnect(),S.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn&&this.state.receiveTurn!==t.receiveTurn&&(Ae.length=0,Fe.length=0,qe.length=0,(S=Be()(ge+"main-page")).on("connect",(function(){S.emit("JoinRoom",n.props.roomid),S.emit("RequestToGetPlayers",n.props.roomid)})),S.on("GetPlayers",(function(e){n.setState({renderPlayers:e.map((function(e,t){if(e!==n.props.username){var a="piper_target_bttn_"+e;return Ae.push(a),qe.push(e),ie.a.createElement("button",{key:e,id:a,type:"button",onClick:n.PlayersToCharm.bind(n,e,t,a)},e)}return""}))})})))}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},ie.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),ie.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),ie.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},ie.a.createElement("p",null,"Charmed ",2===this.state.playersToCharm.length?ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("b",null,this.state.playersToCharm[0])," and ",ie.a.createElement("b",null,this.state.playersToCharm[1])," "):null,"successfully!"),this.state.endTurnConfirm))}}]),n}(oe.Component),Je="",Ke="",He=function(e){Object(de.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(se.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={isDead:!1,isSilence:!1,renderPlayers:null,renderUI:null,renderSaviorAction:null,protectTarget:"",receiveTurn:!1},e.ProtectPlayer=function(t,n){if(Je=t,window.confirm("Do you want to protect "+t+"?")){var a={roomid:e.props.roomid,protectTarget:Je};M.emit("RequestToProtectPlayer",a),e.setState({protectTarget:Je})}},e.endTurnBttn=function(){var t={roomid:e.props.roomid,role:"The savior"};j.emit("RequestToGetNextTurn",t),e.setState({endTurnConfirm:null})},e}return Object(me.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(M=Be()(ge+"savior"),j=Be()(ge+"retrieve-next-turn"),(O=Be()(ge+"in-game")).on("connect",(function(){O.emit("JoinRoom",e.props.roomid)})),O.on("Retrieve1stTurn",(function(t){t===e.props.username&&(M.emit("RequestToGetLastProtectedPlayer",e.props.roomid),M.on("LastProtectedPlayer",(function(t){Ke=t,e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Who do you want to protect?")),receiveTurn:!0})})))})),(U=Be()(ge+"retrieve-next-turn")).on("connect",(function(){U.emit("JoinRoom",e.props.roomid)})),U.on("getNextTurn",(function(t){t===e.props.username&&(M.emit("RequestToGetLastProtectedPlayer",e.props.roomid),M.on("LastProtectedPlayer",(function(t){Ke=t,e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Who do you want to protect?")),receiveTurn:!0})})))})),M.on("ProtectedPlayer",(function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),"ok"===t&&e.setState({renderSaviorAction:ie.a.createElement("p",null,ie.a.createElement("b",null,e.state.protectTarget)," is protected!"),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})})))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,O.disconnect(),M.disconnect(),U.disconnect(),j.disconnect(),x.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn&&this.state.receiveTurn!==t.receiveTurn&&((x=Be()(ge+"main-page")).on("connect",(function(){x.emit("JoinRoom",n.props.roomid),x.emit("RequestToGetPlayers",n.props.roomid)})),x.on("GetPlayers",(function(e){n.setState({renderPlayers:e.map((function(e,t){var a="savior_target_bttn_"+e;return e===Ke?ie.a.createElement("button",{key:e,id:a,type:"button",className:"grayder-background",onClick:n.ProtectPlayer.bind(n,e),disabled:!0},e):ie.a.createElement("button",{key:e,id:a,type:"button",onClick:n.ProtectPlayer.bind(n,e)},e)}))})})))}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},ie.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),ie.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),ie.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderSaviorAction,this.state.endTurnConfirm))}}]),n}(oe.Component),Ye=(n(114),[]),Ve="",$e=[],ze=[],Qe=function(e){Object(de.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(se.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={renderUI:null,renderPlayers:null,renderLovers:null,endTurnConfirm:null,renderOtherChoices:null,choseTarget:null,renderCharmedPlayers:null,renderFinalTarget:null,renderOwnTarget:null,receiveTurn:!1,renderFalsePickingPhase:null,didChooseFalseRole:!1,false_role_button_id_arr:[],false_role_werewolf_id_arr:[]},e.chooseTargetBttn=function(t,n){Ve=t;var a={choseTarget:t,wolfName:e.props.username,roomid:e.props.roomid};W.emit("RequestMyChoice",a),e.setState({choseTarget:ie.a.createElement("p",null,Ve)})},e.AgreeOnKill=function(t){if(window.confirm("Kill "+Ve+"?")){var n={choseTarget:Ve,roomid:e.props.roomid,werewolf:e.props.username};W.emit("RequestToAgreeKill",n),W.emit("RequestToNotifyOther",n),e.setState({renderOwnTarget:ie.a.createElement("p",null,"Choice: ",ie.a.createElement("strong",null,Ve)),renderUI:ie.a.createElement("span",null,"Waiting for other players ...")}),ze.forEach((function(e){document.getElementById(e).disabled=!0}))}},e.chooseFalseRole=function(t,n){if(window.confirm("choose false role: "+t+"?")){var a={falseRole:t,wolfName:e.props.username,roomid:e.props.roomid};W.emit("RequestFalseRoleChoice",a),$e.forEach((function(e){document.getElementById("false_role_bttn_"+e).disabled=!0,document.getElementById("false_role_bttn_"+e).classList.remove("grayder-background"),document.getElementById("false_role_bttn_"+e).classList.add("grayder-background")}))}},e.endTurnBttn=function(){var t={roomid:e.props.roomid,role:"Werewolves",player:e.props.username};q.emit("RequestToGetNextTurn",t),e.setState({endTurnConfirm:null}),e.setState({receiveTurn:!1})},e}return Object(me.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(q=Be()(ge+"retrieve-next-turn"),(A=Be()(ge+"in-game")).on("connect",(function(){A.emit("JoinRoom",e.props.roomid)})),A.on("Retrieve1stTurn",(function(t){t instanceof Array&&t.every((function(t){return t!==e.props.username||(e.setState({receiveTurn:!0}),e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Who do you want to kill?"),ie.a.createElement("button",{className:"agree-on-kill-button",onClick:e.AgreeOnKill,id:"agree-on-kill-button"},"Agree on Kill"))}),!1)}))})),(F=Be()(ge+"retrieve-next-turn")).on("connect",(function(){F.emit("JoinRoom",e.props.roomid)})),F.on("getNextTurn",(function(t){t instanceof Array&&t.every((function(t){return t!==e.props.username||(e.setState({receiveTurn:!0}),e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Who do you want to kill?"),ie.a.createElement("button",{className:"agree-on-kill-button",onClick:e.AgreeOnKill,id:"agree-on-kill-button"},"Agree on Kill"))}),!1)}))})),(W=Be()(ge+"werewolves")).on("connect",(function(){W.emit("JoinRoom",e.props.roomid)})),W.on("ConfirmKillRespond",(function(t){if("all werewolves voted"===t){var n={roomid:e.props.roomid,numberOfWerewolves:Ye.length+1};W.emit("GetFalseRoles",n),W.on("FalseRoles",(function(t){$e=t;var n=[];W.emit("RequestToGetOtherFalseRoles",e.props.roomid),W.on("OtherFalseRoles",(function(t){n=t,e.setState({renderFalsePickingPhase:$e.map((function(t,a){var r="false_role_bttn_"+t,o="false_role_werewolf_"+t,i=ie.a.createElement("button",{id:r,onClick:e.chooseFalseRole.bind(e,t)},t),l=ie.a.createElement("div",{id:o,className:"in-game-render-players-container-werewolve-chosen"});return n.every((function(e){return e.falseRole!==t||(i=ie.a.createElement("button",{id:r,className:"grayder-background",disabled:!0},t),l=ie.a.createElement("div",{id:o,className:"in-game-render-players-container-werewolve-chosen"},e.wolfName),!1)})),ie.a.createElement("div",{key:t,className:"in-game-render-players-container-werewolve"},i,l)}))})}))})),W.on("FalseRoleChoice",(function(e){document.getElementById("false_role_bttn_"+e.falseRole).disabled=!0,document.getElementById("false_role_bttn_"+e.falseRole).classList.remove("grayder-background"),document.getElementById("false_role_bttn_"+e.falseRole).classList.add("grayder-background"),document.getElementById("false_role_werewolf_"+e.falseRole).innerText=e.wolfName})),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),e.setState({endTurnConfirm:ie.a.createElement("button",{className:"werewolves-end-turn-button",type:"button",onClick:e.endTurnBttn},"End turn")})}})))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,W.disconnect(),G.disconnect(),A.disconnect(),F.disconnect(),q.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn!==t.receiveTurn&&this.state.receiveTurn&&((G=Be()(ge+"main-page")).on("connect",(function(){G.emit("JoinRoom",n.props.roomid),G.emit("RequestToGetPlayers",n.props.roomid)})),G.on("GetPlayers",(function(e){ze.length=0,n.setState({renderPlayers:e.map((function(e,t){var a="werewolves_target_bttn_"+e,r="werewolves_icon_"+e,o="player_holder_"+e;return ze.push(a),ie.a.createElement("div",{key:e,className:"in-game-render-players-container-werewolve",id:o},ie.a.createElement("button",{id:a,type:"button",onClick:n.chooseTargetBttn.bind(n,e)},e),ie.a.createElement("div",{id:r,className:"in-game-render-players-container-werewolve-chosen"}))}))}),W.emit("RequestToGetOtherWerewolves",n.props.roomid),W.on("GetOtherWerewolves",(function(e){e.forEach((function(e){if(document.getElementById("werewolves_target_bttn_"+e)){var t=document.getElementById("werewolves_target_bttn_"+e);t.innerText+=" (Wolf)",t.classList.remove("grayder-background"),t.classList.add("grayder-background"),t.disabled=!0}}))})),W.on("OtherChoices",(function(e){var t=!1;Ye.length=0,Ye.forEach((function(n,a){n.wolfName===e.wolfName&&(n.choseTarget=e.choseTarget,t=!0)})),t||Ye.push(e),Ye.forEach((function(e){document.getElementById("werewolves_icon_"+e.wolfName)&&(document.getElementById("werewolves_icon_"+e.wolfName).innerText=e.choseTarget)}))})),W.on("OtherNotified",(function(e){document.getElementById("player_holder_"+e.werewolf).classList.remove("player-holder-grayer-background"),document.getElementById("player_holder_"+e.werewolf).classList.add("player-holder-grayer-background")})),W.on("ReceiveTheFinalTarget",(function(e){n.setState({renderFinalTarget:ie.a.createElement("p",null,"Killed: ",ie.a.createElement("strong",null,e))})}))}))),null!==this.state.renderPlayers&&this.state.renderPlayers!==t.renderPlayers&&(W.emit("RequestToGetOtherChoices",this.props.roomid),W.on("GetOtherChoices",(function(e){for(var t in e)e.hasOwnProperty(t)&&document.getElementById("werewolves_icon_"+t)&&e[t].length>0&&(document.getElementById("werewolves_icon_"+t).innerText=e[t])})),W.emit("RequestToGetOtherKillDecisions",this.props.roomid),W.on("OtherKillDecisions",(function(e){for(var t in e)e.hasOwnProperty(t)&&document.getElementById("player_holder_"+t)&&e[t].length>0&&(document.getElementById("player_holder_"+t).classList.remove("player-holder-grayer-background"),document.getElementById("player_holder_"+t).classList.add("player-holder-grayer-background"))})))}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},ie.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),ie.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),ie.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},ie.a.createElement("div",{className:"werewolves-announce-holder"},ie.a.createElement("div",{className:"werewolves-annouce-words"},this.state.renderOwnTarget,this.state.renderFinalTarget),this.state.endTurnConfirm),ie.a.createElement("div",{className:"werewolves-false-phase-holder"},this.state.renderFalsePickingPhase)))}}]),n}(oe.Component),Xe=(n(115),""),Ze=[],et=[],tt=function(e){Object(de.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(se.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={renderPlayers:null,renderLovers:null,renderCharmedPlayers:null,renderUI:null,endTurnConfirm:null,renderWitchAction:null,target:"",receiveTurn:!1},e.KillPlayerBttn=function(t,n){if(Xe=t,window.confirm("Do you want to kill "+t+"?")){var a={roomid:e.props.roomid,target_kill:t};D.emit("RequestToKillPlayer",a),e.setState({target:Xe})}},e.ProtectPlayerBttn=function(t,n){if(Xe=t,window.confirm("Do you want to save "+t+"?")){var a={roomid:e.props.roomid,target_protect:t};D.emit("RequestToProtectPlayer",a),e.setState({target:Xe})}},e.endTurnBttn=function(){var t={roomid:e.props.roomid,role:"Witch"};Y.emit("RequestToGetNextTurn",t),e.setState({endTurnConfirm:null})},e.UIEndTurnBttn=function(t){var n={roomid:e.props.roomid,role:"Witch"};Y.emit("RequestToGetNextTurn",n),e.setState({renderWitchAction:ie.a.createElement("p",null,"You chose to end turn.")}),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible")},e}return Object(me.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(Ze.length=0,et.length=0,D=Be()(ge+"witch"),Y=Be()(ge+"retrieve-next-turn"),(J=Be()(ge+"in-game")).on("connect",(function(){J.emit("JoinRoom",e.props.roomid)})),J.on("Retrieve1stTurn",(function(t){t===e.props.username&&e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Choose your target to kill and to protect?"),ie.a.createElement("button",{id:"UI-end-turn-button",className:"end-turn-witch-button",onClick:e.UIEndTurnBttn},"End turn")),receiveTurn:!0})})),(K=Be()(ge+"retrieve-next-turn")).on("connect",(function(){K.emit("JoinRoom",e.props.roomid)})),K.on("getNextTurn",(function(t){t===e.props.username&&e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("p",null,"Choose your target to kill and to protect?"),ie.a.createElement("button",{className:"end-turn-witch-button",onClick:e.UIEndTurnBttn},"End turn")),receiveTurn:!0})})),D.on("KillPlayer",(function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),"ok"===t?e.setState({renderWitchAction:ie.a.createElement("p",null,ie.a.createElement("b",null,e.state.target)," Killed!"),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")}):"No Kill Potion Left"===t&&e.setState({renderWitchAction:ie.a.createElement("p",null,"No Kill Potion Left!"),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})})),D.on("ProtectPlayer",(function(t){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible"),"ok"===t?e.setState({renderWitchAction:ie.a.createElement("p",null,ie.a.createElement("b",null,e.state.target)," Saved!"),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")}):"No Heal Potion Left"===t&&e.setState({renderWitchAction:ie.a.createElement("p",null,"No Heal Potion Left!"),endTurnConfirm:ie.a.createElement("button",{type:"button",onClick:e.endTurnBttn},"End turn")})})))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,Ze.length=0,et.length=0,D.disconnect(),J.disconnect(),K.disconnect(),H.disconnect(),Y.disconnect()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.receiveTurn&&this.state.receiveTurn!==t.receiveTurn&&(Ze.length=0,et.length=0,(H=Be()(ge+"main-page")).on("connect",(function(){H.emit("JoinRoom",n.props.roomid),H.emit("RequestToGetPlayers",n.props.roomid)})),H.on("GetPlayers",(function(e){D.emit("RequestToRetrieveLeftAbilities",n.props.roomid),D.on("LeftAbilities",(function(t){n.setState({renderPlayers:e.map((function(e,a){var r="witch_target_bttn_"+a,o="witch_kill_bttn_"+a,i="witch_protect_bttn"+a;return Ze.push(i),et.push(o),ie.a.createElement("div",{key:e},ie.a.createElement("p",{id:r},e),ie.a.createElement("div",null,t.useKill||e===n.props.username?null:ie.a.createElement("button",{id:o,onClick:n.KillPlayerBttn.bind(n,e)},"Kill"),t.useHeal?null:ie.a.createElement("button",{id:i,onClick:n.ProtectPlayerBttn.bind(n,e)},"Protect")))}))})}))})))}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},ie.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),ie.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),ie.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderWitchAction,this.state.endTurnConfirm))}}]),n}(oe.Component),nt=(n(116),600),at="",rt=[],ot=function(e){Object(de.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(se.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={renderUI:null,renderPlayers:null,renderChosenExecutedPlayer:null,renderFinalExecutedPlayer:null,endRoundConfirm:null,timerEnds:!1,renderVotePlayerButton:null},e.VotePlayer=function(){if(window.confirm("Hang "+at+"?")){var t={chosenPlayer:at,roomid:e.props.roomid,player:e.props.username};Q.emit("RequestToHangPlayer",t),e.setState({renderChosenExecutedPlayer:ie.a.createElement("p",null,"Your Choice: ",ie.a.createElement("b",null,at))}),document.getElementById("vote-hanged-button").style.display="none",rt.forEach((function(e){document.getElementById(e).disabled=!0,document.getElementById(e).classList.remove("grayder-background"),document.getElementById(e).classList.add("grayder-background")}))}},e.ChoosePlayer=function(t,n){var a={chosenPlayer:at=t,player:e.props.username,roomid:e.props.roomid};Q.emit("BroadCastMyChoice",a),e.setState({renderVotePlayerButton:ie.a.createElement("button",{id:"vote-hanged-button",className:"vote-hanged-button",onClick:e.VotePlayer},"Vote")})},e.EndRound=function(){var t={roomid:e.props.roomid,player:e.props.username};Q.emit("RequestToEndRound",t),e.setState({endRoundConfirm:null})},e}return Object(me.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&(rt.length=0,Q=Be()(ge+"round-end"),(X=Be()(ge+"main-page")).on("connect",(function(){X.emit("JoinRoom",e.props.roomid),X.emit("RequestToGetPlayers",e.props.roomid)})),X.on("GetPlayers",(function(t){rt.length=0,e.setState({renderPlayers:t.map((function(t,n){var a="round_end_target_bttn_"+t,r="round_end_"+t;return rt.push(a),ie.a.createElement("div",{key:t,className:"in-game-render-players-container-werewolve"},t===e.props.username?ie.a.createElement("button",{className:"grayder-background",id:a,type:"button",onClick:e.ChoosePlayer.bind(e,t),disabled:!0},t):ie.a.createElement("button",{id:a,type:"button",onClick:e.ChoosePlayer.bind(e,t)},t),ie.a.createElement("div",{id:r,className:"in-game-render-players-container-werewolve-chosen"}))}))})})),Q.on("connect",(function(){Q.emit("JoinRoom",e.props.roomid)})),V=setInterval((function(){nt<1?(e.setState({timerEnds:!0}),clearInterval(V)):(nt-=1,$=Math.floor(nt/60),z=(z=Math.floor(nt%60))<10?"0"+z:z,e.setState({renderUI:ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("h3",null,"Morning: ",$+":"+z),e.state.renderVotePlayerButton)}))}),1e3),Q.emit("RequestToGetOtherChoices",this.props.roomid),Q.on("OtherKillDecisions",(function(e){for(var t in e)e.hasOwnProperty(t)&&document.getElementById("round_end_"+t)&&(document.getElementById("round_end_"+t).innerText=e[t])})),Q.on("GetOtherChoices",(function(e){document.getElementById("round_end_"+e.player)&&(document.getElementById("round_end_"+e.player).innerText=e.chosenPlayer)})),Q.on("BroadcastREDeadPlayers",(function(t){if(clearInterval(V),document.getElementById("cupid-layer1")&&document.getElementById("cupid-layer2")){document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer1").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer2").classList.remove("in-game-cupid-layer-container-visible"),document.getElementById("cupid-layer1").classList.add("in-game-cupid-layer-container-invisible"),document.getElementById("cupid-layer2").classList.add("in-game-cupid-layer-container-visible");var n="";t.forEach((function(e){return n+=e+" "})),e.setState({renderFinalExecutedPlayer:ie.a.createElement("div",null,ie.a.createElement("p",null,"Final Executed: ",ie.a.createElement("strong",null,n))),endRoundConfirm:ie.a.createElement("button",{className:"end-round-confirm-button",onClick:e.EndRound},"End Morning")})}})))}},{key:"componentDidUpdate",value:function(e,t){if(this.state.renderPlayers,t.renderPlayers,this.state.timerEnds!==t.timerEnds&&this.state.timerEnds){var n={chosenPlayer:this.props.username,roomid:this.props.roomid,player:this.props.username};Q.emit("RequestToHangPlayer",n)}}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,rt.length=0,Q.disconnect(),X.disconnect(),clearInterval(V)}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"in-game-cupid-layer1-container in-game-cupid-layer-container-visible",id:"cupid-layer1"},ie.a.createElement("div",{className:"in-game-render-ui-container"},this.state.renderUI),ie.a.createElement("div",{className:"in-game-render-players-container"},this.state.renderPlayers)),ie.a.createElement("div",{className:"in-game-cupid-layer2-container in-game-cupid-layer-container-invisible",id:"cupid-layer2"},this.state.renderChosenExecutedPlayer,this.state.renderFinalExecutedPlayer,this.state.endRoundConfirm))}}]),n}(oe.Component),it=(n(117),function(e){Object(de.a)(n,e);var t=Object(ue.a)(n);function n(){var e;Object(se.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._isMounted=!1,e.state={renderPlayerRole:null,timer:null,renderRoleUI:null,renderStartBttn:null,startBttnClicked:!1,isAdmin:!1,renderLovers:null,renderCharmedPlayers:null,admin:"",isDead:!1,roundEnds:!1,gameEnds:!1,sideWon:null},e.startBttn=function(){te.emit("RequestToStartTheGame1stRound",e.props.match.params.roomid),e.setState({renderStartBttn:null})},e.CloseTheGame=function(){var t={username:e.props.match.params.username,roomid:e.props.match.params.roomid};te.emit("RequestToCloseGame",t)},e.ChooseLeftTab=function(e){document.getElementById("left-icon").classList.remove("tab-active"),document.getElementById("middle-icon").classList.remove("tab-active"),document.getElementById("right-icon").classList.remove("tab-active"),document.getElementById("left-icon").classList.add("tab-active"),document.getElementById("left-tab").classList.remove("in-game-user-tab-container-visible"),document.getElementById("middle-tab").classList.remove("in-game-role-tab-container-invisible-move-right"),document.getElementById("middle-tab").classList.remove("in-game-role-tab-container-invisible-move-left"),document.getElementById("right-tab").classList.remove("in-game-extra-info-tab-container-visible"),document.getElementById("left-tab").classList.add("in-game-user-tab-container-visible"),document.getElementById("middle-tab").classList.add("in-game-role-tab-container-invisible-move-right")},e.ChooseMiddleTab=function(){document.getElementById("left-icon").classList.remove("tab-active"),document.getElementById("middle-icon").classList.remove("tab-active"),document.getElementById("right-icon").classList.remove("tab-active"),document.getElementById("middle-icon").classList.add("tab-active"),document.getElementById("left-tab").classList.remove("in-game-user-tab-container-visible"),document.getElementById("middle-tab").classList.remove("in-game-role-tab-container-invisible-move-right"),document.getElementById("middle-tab").classList.remove("in-game-role-tab-container-invisible-move-left"),document.getElementById("right-tab").classList.remove("in-game-extra-info-tab-container-visible")},e.ChooseRightTab=function(){document.getElementById("left-icon").classList.remove("tab-active"),document.getElementById("middle-icon").classList.remove("tab-active"),document.getElementById("right-icon").classList.remove("tab-active"),document.getElementById("right-icon").classList.add("tab-active"),document.getElementById("left-tab").classList.remove("in-game-user-tab-container-visible"),document.getElementById("middle-tab").classList.remove("in-game-role-tab-container-invisible-move-right"),document.getElementById("middle-tab").classList.remove("in-game-role-tab-container-invisible-move-left"),document.getElementById("right-tab").classList.remove("in-game-extra-info-tab-container-visible"),document.getElementById("right-tab").classList.add("in-game-extra-info-tab-container-visible"),document.getElementById("middle-tab").classList.add("in-game-role-tab-container-invisible-move-left")},e}return Object(me.a)(n,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,this._isMounted&&((te=Be()(ge+"in-game")).on("connect",(function(){te.emit("GetGameInfo",e.props.match.params.roomid),te.emit("JoinRoom",e.props.match.params.roomid)})),te.on("PlayerCloseGame",(function(e){"ok"===e&&(window.location="/")})),(ne=Be()(ge+"get-admin",{query:{roomid:this.props.match.params.roomid}})).on("connect",(function(){ne.emit("JoinRoom",e.props.match.params.roomid)})),ne.on("GetAdmin",(function(t){e.setState({admin:t.admin}),e.props.match.params.username===t.admin&&e.setState({renderStartBttn:ie.a.createElement("button",{className:"in-game-start-night-button",type:"button",onClick:e.startBttn},"Start the night"),isAdmin:!0})})),te.on("RetrieveGameInfo",(function(t){t.every((function(t){var n=!1;return t.special||t.player.every((function(a){return a===e.props.match.params.username?(e.setState({renderPlayerRole:t.name}),"Werewolves"===t.name?e.setState({renderRoleUI:ie.a.createElement(Qe,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"Seer/ Fortune Teller"===t.name?e.setState({renderRoleUI:ie.a.createElement(Ue,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"Cupid"===t.name?e.setState({renderRoleUI:ie.a.createElement(Oe,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"Witch"===t.name?e.setState({renderRoleUI:ie.a.createElement(tt,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The savior"===t.name?e.setState({renderRoleUI:ie.a.createElement(He,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The pied piper"===t.name?e.setState({renderRoleUI:ie.a.createElement(De,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The fox"===t.name?e.setState({renderRoleUI:ie.a.createElement(Ge,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}):"The bear leader"===t.name&&e.setState({renderRoleUI:ie.a.createElement(Re,{roomid:e.props.match.params.roomid,username:e.props.match.params.username})}),n=!0,!1):(e.setState({renderPlayerRole:"Ordinary Townsfolk"}),!0)})),!n}))})),ae=Be()(ge+"in-game"),te.on("RevealLovers",(function(t){t.forEach((function(n,a){n.player===e.props.match.params.username&&(0===a?e.setState({renderLovers:ie.a.createElement("p",null,"You are now in love with ",t[a+1].player," - ",t[a+1].role)}):e.setState({renderLovers:ie.a.createElement("p",null,"You are now in love with ",t[a-1].player," - ",t[a-1].role)}))}))})),te.emit("RequestToRetrieveCharmPlayers",this.props.match.params.roomid),te.on("GetListOfCharmed",(function(t){t.every((function(n){return e.props.match.params.username!==n||(e.setState({renderCharmedPlayers:t.map((function(e,t){var n="charmed_"+t;return ie.a.createElement("p",{key:n},e)}))}),!1)}))})),(re=Be()(ge+"retrieve-round-ends")).on("connect",(function(){re.emit("JoinRoom",e.props.match.params.roomid)})),re.on("RoundEnds",(function(t){t.dead instanceof Array&&t.dead.forEach((function(t,n){e.props.match.params.username===t&&e.setState({isDead:!0})})),e.setState({roundEnds:!0})})),(Z=Be()(ge+"in-game")).on("connect",(function(){Z.emit("JoinRoom",e.props.match.params.roomid)})),Z.on("StartNewRound",(function(t){"Start new round"===t&&(e.setState({roundEnds:!1}),e.state.isAdmin&&e.setState({renderStartBttn:ie.a.createElement("button",{className:"in-game-start-night-button",type:"button",onClick:e.startBttn},"Start the night")}))})),(ee=Be()(ge+"round-end")).on("connect",(function(){ee.emit("JoinRoom",e.props.match.params.roomid)})),ee.on("BroadcastREDeadPlayers",(function(t){t.every((function(t){return e.props.match.params.username!==t||(e.setState({isDead:!0}),!1)}))})),te.on("GameEnds",(function(t){"Human won"===t?e.setState({sideWon:"Human"}):"Werewolves won"===t?e.setState({sideWon:"Werewolves"}):("Piper won"===t||"Lovers won"===t)&&e.setState({sideWon:"Piper"}),e.setState({gameEnds:!0})})))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,Z.disconnect(),ee.disconnect(),te.disconnect(),ne.disconnect(),ae.disconnect(),re.disconnect()}},{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){return ie.a.createElement(ie.a.Fragment,null,ie.a.createElement("div",{className:"in-game-header-container"},ie.a.createElement("button",{className:"in-game-header-item-holder",onClick:this.ChooseLeftTab,id:"left-icon"},ie.a.createElement("i",{className:"fas fa-user fa-lg"})),ie.a.createElement("button",{className:"in-game-header-item-holder tab-active",onClick:this.ChooseMiddleTab,id:"middle-icon"},ie.a.createElement("i",{className:"fas fa-boxes fa-lg"})),ie.a.createElement("button",{className:"in-game-header-item-holder",onClick:this.ChooseRightTab,id:"right-icon"},ie.a.createElement("i",{className:"fas fa-clipboard-list fa-lg"}))),ie.a.createElement("div",{className:"in-game-main-container"},ie.a.createElement("div",{className:"in-game-title"},ie.a.createElement("h2",null,"In Game Room")),ie.a.createElement("div",{className:"in-game-role-tab-container",id:"middle-tab"},ie.a.createElement("div",{className:"in-game-role-tab-title"},ie.a.createElement("h4",null,this.state.renderPlayerRole)),this.state.gameEnds?ie.a.createElement("div",{className:"in-game-role-tab-main"},ie.a.createElement("p",null,this.state.sideWon," Won!"),ie.a.createElement("button",{onClick:this.CloseTheGame},"Close")):ie.a.createElement(ie.a.Fragment,null,this.state.roundEnds?ie.a.createElement(ie.a.Fragment,null,this.state.isDead?ie.a.createElement("div",{className:"in-game-role-tab-main"},ie.a.createElement("p",null,"You are dead")):ie.a.createElement("div",{className:"in-game-role-tab-main"},ie.a.createElement(ot,{roomid:this.props.match.params.roomid,username:this.props.match.params.username}))):ie.a.createElement(ie.a.Fragment,null,this.state.isDead?ie.a.createElement("div",{className:"in-game-role-tab-main"},ie.a.createElement("p",null,"You are dead")):ie.a.createElement("div",{className:"in-game-role-tab-main"},this.state.renderRoleUI))),this.state.renderStartBttn),ie.a.createElement("div",{className:"in-game-user-tab-container",id:"left-tab"},ie.a.createElement("div",{className:"in-game-room-info-container"},ie.a.createElement("p",null,"Room ID: ",this.props.match.params.roomid," "),ie.a.createElement("p",null,"Admin: ",this.state.admin),ie.a.createElement("p",null,"Name: ",this.props.match.params.username)),ie.a.createElement("div",{className:"in-game-room-history-container"}),ie.a.createElement("div",{className:"in-game-role-tab-start-end-button-container"})),ie.a.createElement("div",{className:"in-game-extra-info-tab-container",id:"right-tab"},ie.a.createElement("div",{className:"in-game-lover-info"},this.state.renderLovers),ie.a.createElement("div",{className:"in-game-charm-info"},ie.a.createElement("h4",null,"List of Charmed Players"),this.state.renderCharmedPlayers))))}}]),n}(oe.Component)),lt=function(e){Object(de.a)(n,e);var t=Object(ue.a)(n);function n(){return Object(se.a)(this,n),t.apply(this,arguments)}return Object(me.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return ie.a.createElement("div",{className:"App"},ie.a.createElement(pe.a,{exact:!0,path:"/",component:ye}),ie.a.createElement(pe.a,{path:"/login",component:be}),ie.a.createElement(pe.a,{exact:!0,path:"/waiting-room/:roomid/:username",component:ke}),ie.a.createElement(pe.a,{exact:!0,path:"/in-game-room/:roomid/:username",component:it}),ie.a.createElement(Ee,null))}}]),n}(oe.Component),ct=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function st(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var mt=n(125),dt=n(46);ce.a.render(ie.a.createElement(mt.a,null,ie.a.createElement(dt.a,null,ie.a.createElement(lt,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ct?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):st(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):st(t,e)}))}}()},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},75:function(e,t,n){}},[[124,1,2]]]);
//# sourceMappingURL=main.4fe3a60f.chunk.js.map